

<?php viewFactoryStartSection('content'); ?>

<?php use \Library\Facades\Form; ?>

<div class="memberships">

    <?php for ($i = 0; $i < sizeof($memberships); $i++) { ?>
        <div class="membership membership<?php echo  $i + 1 ; ?> <?php if ($i == 0) { ?> active <?php } ?>">
            <div class="membership-header">
                <?php echo  $memberships[$i]['name'] ; ?>
            </div>
            <div class="membership-body">
                <div class="membership-pricing"><?php echo  $memberships[$i]['price'] ; ?></div>
                <div class="membership-description">
                    <table>
                        <tr>
                            <td><span class="fa fa-group"></span></td>
                            <td>Students:</td>
                            <td><?php echo  $memberships[$i]['numStudents'] ; ?></td>
                        </tr>
                        <tr>
                            <td><span class="fa fa-server"></span></td>
                            <td>Storage space:</td>
                            <td><?php echo  $memberships[$i]['storageSpace'] ; ?></td>
                        </tr>
                        <tr>
                            <td><span class="fa fa-lock"></span></td>
                            <td>SSL encryption:</td>
                            <td>Yes</td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="membership-footer">
                <a href="#" onclick="selectSubscription(<?php echo  $i + 1 ; ?>);return false;">
                    <button type="button">Select</button>
                </a>
            </div>
        </div>
    <?php } ?>
</div>

<div class="signup">

    <?php echo  Form::open('', 'POST', ['id' => 'signup-form', 'class' => 'custom-1']) ; ?>

    <?php echo  Form::hidden('subscriptionType', '1') ; ?>

    <div class="g-form-header">
        Sign up
    </div>

    <div class="g-form-body">

        <div class="form-row">
            <?php echo  Form::label('firstName', 'First name', ['class' => 'required']) ; ?>
            <?php echo  Form::text('firstName', null, ['placeholder' => 'First name']) ; ?>
            <?php echo  Form::error('firstName') ; ?>
        </div>

        <div class="form-row">
            <?php echo  Form::label('lastName', 'Last name', ['class' => 'required']) ; ?>
            <?php echo  Form::text('lastName', null, ['placeholder' => 'Last name']) ; ?>
            <?php echo  Form::error('lastName') ; ?>
        </div>

        <div class="form-row">
            <?php echo  Form::label('email', 'Email', ['class' => 'required']) ; ?>
            <?php echo  Form::text('email', null, ['placeholder' => 'Email']) ; ?>
            <?php echo  Form::error('email') ; ?>
        </div>

    </div>

    <div class="g-form-footer">
        <?php echo  Form::button('Sign up', ['type' => 'submit']) ; ?>
    </div>

    <?php echo  Form::close() ; ?>

</div>

<script type="text/javascript">
var currentSubscription = 1;

function selectSubscription(subscriptionNumber) {
    if (subscriptionNumber < 1 || subscriptionNumber > 4) {
        subscriptionNumber = 1;
    }

    $('.membership' + currentSubscription).removeClass('active');
    currentSubscription = subscriptionNumber;
    $('.membership' + currentSubscription).addClass('active');

    $('#subscription').val(currentSubscription);
}

$('#signup-form').validate({
    firstName: [
        {rule: 'required', message: 'first name is required'}
    ],
    lastName: [
        {rule: 'required', message: 'last name is required'}
    ],
    email: [
        {rule: 'required'},
        {rule: 'email'},
        {rule: 'unique:Teacher,email'},
        {rule: 'unique:Student,email'},
        {rule: 'unique:TempTeacher,email'}
    ]
});
</script>

<?php viewFactoryEndSection(); ?>