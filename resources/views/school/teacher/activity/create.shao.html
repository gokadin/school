@layout('school.layout')

@inject('\Library\Http\Form')

@section('content')

<div class="main-title">
    Activities
</div>

<div class="content-padding">
    @if ($user->settings()->showTips())
    <info-box>
        <p>
            When adding a student to the activity,
            the rate and period can be overriden to match the student's needs.
        </p>
    </info-box>
    @endif

    <div class="panel-1">
        {!! $form->open('school.teacher.activity.store', 'POST', ['id' => 'create-activity-form', 'class' => 'form-1']) !!}

        <div class="form-title">
            Create a new activity
        </div>

        <div class="form-row">
            {!! $form->label('name', 'Name') !!}
            {!! $form->text('name', null, ['placeholder' => 'Name']) !!}
            {!! $form->error('name') !!}
        </div>

        <div class="form-row">
            {!! $form->label('rate', 'Rate') !!}
            {!! $form->text('rate', null, ['placeholder' => 'Rate']) !!}
            {!! $form->error('rate') !!}
        </div>

        <div class="form-row">
            {!! $form->label('period', 'Period') !!}
            <select name="period">
                <option value="lesson">per lesson</option>
                <option value="30 mins">per 30 mins</option>
                <option value="45 mins">per 45 mins</option>
                <option value="hour">per hour</option>
                <option value="1 hour 30 mins">per 1 hour 30 mins</option>
                <option value="month">per month</option>
                <option value="year">per year</option>
            </select>
        </div>

        <div class="form-row">
            {!! $form->label('location', 'Location') !!}
            {!! $form->text('location', null, ['placeholder' => 'Location']) !!}
        </div>

        <div class="form-buttons">
            <label for="create-another">
                <input type="checkbox" id="create-another" name="createAnother" value="1" />
                Create another
            </label>

            {!! $form->submit('Create') !!}
        </div>

        {!! $form->close() !!}
    </div>
</div>

@stop()

@section('javascript')

<script type="text/javascript">
    $('#create-activity-form').validate({
        name: [
            {rule: 'required'}
        ],
        rate: [
            {rule: 'required', message: 'rate is required'},
            {rule: 'numeric', message: 'rate must be a number'}
        ]
    });
</script>

@stop()