@layout('school.layout')

@inject('\Library\Http\Form')

@section('content')

<div class="main-title">
    Account
</div>

@include('school.teacher.account.switcher')

<div class="content-padding">
    <div class="panel-1">
        {!! $form->open('school.teacher.account.password', 'POST', ['id' => 'password-form', 'class' => 'form-1']) !!}

        <div class="form-title">
            Change password
        </div>

        <div class="form-row">
            {!! $form->label('currentPassword', 'Current') !!}
            {!! $form->password('currentPassword', null, ['placeholder' => 'Current password']) !!}
            {!! $form->error('currentPassword') !!}
        </div>

        <div class="form-row">
            {!! $form->label('newPassword', 'New password') !!}
            {!! $form->password('newPassword', null, ['placeholder' => 'New password']) !!}
            {!! $form->error('newPassword') !!}
        </div>

        <div class="form-row">
            {!! $form->label('confirmPassword', 'Confirm') !!}
            {!! $form->password('confirmPassword', null, ['placeholder' => 'Confirm password']) !!}
            {!! $form->error('confirmPassword') !!}
        </div>

        <div class="form-buttons">
            <button type="submit" class="button-green button-large">Update</button>
        </div>

        {!! $form->close() !!}
    </div>
</div>

@stop()

@section('javascript')

<script type="text/javascript">
    $('#password-form').validate({
        currentPassword: [
            {rule: 'required', message: 'current password is required'}
        ],
        newPassword: [
            {rule: 'required', message: 'new password is required'}
        ],
        confirmPassword: [
            {rule: 'required', message: 'confirmation is required'},
            {rule: 'equalsField:newPassword', message: 'passwords don\'t match'}
        ]
    });
</script>

@stop()