<div class="modal-container" [hidden]="!show">
    <div class="modal-veil" (click)="cancelWithClick($event)">
        <div class="modal-content">
            <div id="new-event-modal" class="modal-1">
                <div class="header">New event</div>
                <div class="body">
                    <form class="form-1" [ngFormModel]="form" (ngSubmit)="onSubmit()">
                        <div class="form-row">
                            <label for="title">Title</label>
                            <input id="title" type="text" placeholder="Title" [ngFormControl]="form.controls['title']"
                                   [class.invalid]="!title.valid && title.touched" [class.valid]="title.valid && title.touched" />
                            <div class="form-error" *ngIf="!title.valid && title.touched">title is required</div>
                        </div>

                        <div class="form-row">
                            <label for="description">Description</label>
                            <textarea id="description" placeholder="Description (optional)" [ngFormControl]="form.controls['description']"
                                      [class.valid]="description.touched" ></textarea>
                        </div>

                        <div class="form-row start-row">
                            <label>From</label>
                            <div class="date-and-time-group">
                                <div class="start-date">
                                    <datepicker [control]="form.controls['startDate']" placeholder="Start date"></datepicker>
                                </div>
                                <div class="start-time">
                                    <timepicker *ngIf="!form.controls['isAllDay'].value"
                                                [control]="form.controls['startTime']" placeholder="Start time"></timepicker>
                                </div>
                            </div>
                        </div>

                        <div class="form-row end-row">
                            <label>To</label>
                            <div class="date-and-time-group">
                                <div class="end-date">
                                    <datepicker [control]="form.controls['endDate']" placeholder="End date"></datepicker>
                                </div>
                                <div class="end-time">
                                    <timepicker *ngIf="!form.controls['isAllDay'].value"
                                                [control]="form.controls['endTime']" placeholder="End time"></timepicker>
                                </div>
                            </div>
                        </div>

                        <!--<div class="form-row recurring-row-1" v-show="newEvent.isRecurring">-->
                        <!--<label for="rRepeat">Repeat</label>-->
                        <!--<select name="rRepeat" id="rRepeat" v-model="newEvent.rRepeat">-->
                        <!--<option value="daily">Daily</option>-->
                        <!--<option value="weekly">Weekly</option>-->
                        <!--<option value="weekdays">Weekdays (Monday to Friday)</option>-->
                        <!--<option value="monthly">Monthly</option>-->
                        <!--<option value="yearly">Yearly</option>-->
                        <!--</select>-->
                        <!--</div>-->

                        <!--<div class="form-row recurring-row-2" v-show="newEvent.isRecurring">-->
                        <!--<label>Ends</label>-->
                        <!--<div class="checkbox-1">-->
                        <!--<label>-->
                        <!--<input type="checkbox" v-model="newEvent.rEndsNever" />-->
                        <!--<i></i>Never-->
                        <!--</label>-->
                        <!--</div>-->
                        <!--<datepicker class="datepicker" :model.sync="newEvent.rEndDate" v-show="!newEvent.rEndsNever"></datepicker>-->
                        <!--</div>-->

                        <div class="form-row event-options">
                            <div class="checkbox-1">
                                <label>
                                    <input type="checkbox" [ngFormControl]="form.controls['isAllDay']" />
                                    <i></i>All day
                                </label>
                            </div>
                            <div class="checkbox-1">
                                <label>
                                    <input type="checkbox" [ngFormControl]="form.controls['isRecurring']" />
                                    <i></i>Recurring
                                </label>
                            </div>
                        </div>

                        <div class="form-row">
                            <label>Color</label>
                            <div class="color-options">
                                <div
                                    [ngClass]="'color-' + color"
                                    [class.color-selected]="color == selectedColor"
                                    *ngFor="#color of eventColors"
                                    (click)="selectColor(color)">
                                </div>
                            </div>
                        </div>

                        <div
                            class="more-options-toggler"
                            [class.more-options-open]="showMoreOptions"
                            (click)="showMoreOptions = !showMoreOptions">
                            More options<i class="fa"></i>
                        </div>

                        <div class="more-options" *ngIf="showMoreOptions">

                        <!--<div class="form-row">-->
                        <!--<label>Activity</label>-->
                        <!--<search-select name="activityId"-->
                        <!--:data="activities"-->
                        <!--value="id"-->
                        <!--display="name"-->
                        <!--:model.sync="newEvent.activityId"-->
                        <!--placeholder="Select an activity"-->
                        <!--&gt;-->
                        <!--</search-select>-->
                        <!--</div>-->

                        <!--<div class="form-row student-row">-->
                        <!--<label>Students</label>-->
                        <!--<tag-select name="studentIds"-->
                        <!--uri="/api/school/teacher/students/search"-->
                        <!--method="post"-->
                        <!--searchkey="search"-->
                        <!--:model.sync="newEvent.studentIds"-->
                        <!--placeholder="Search students"-->
                        <!--display="fullName"-->
                        <!--value="id"-->
                        <!--&gt;</tag-select>-->
                        <!--</div>-->

                        </div>
                    </form>
                </div>
                <div class="footer">
                    <button class="button-green" (click)="onSubmit()">Create</button>
                    <button class="button-red" (click)="cancel()">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>