{{{ use Models\Subscription; }}}

<div class="default-center">
	<form id="subscription-form" action="" method="POST">
		@for ($i = 1; $i < Subscription::SUBSCRIPTION_COUNT + 1; $i++)
			<div id="subscription-option-{{ $i }}" class="subscription-option">
				<label>
					<span>
						<input type="radio" name="subscriptionType" value="{{ $i }}" @if ($subscription->type == $i) checked @endif />
					</span>
					<span>
						{{ $subscription->name($i) }}
					</span>
					<span>
						@if ($subscription->defaultRate($i) == 0)
							FREE
						@else
							{{ $subscription->defaultRate($i) }}
							/ month
						@endif
					</span>
					<span>
						<table>
							<tr>
								<td>
									<i class="fa fa-group"></i>
									@if ($subscription->students($i) == -1)
										Unlimited
									@else
										{{ $subscription->students($i) }}
									@endif
									students
								</td>
							</tr>
							<tr>
								<td>
									<i class="fa fa-server"></i>
									{{ $subscription->storage($i) }}
									GB storage
								</td>
							</tr>
						</table>
					</span>
				</label>
			</div>
		@endfor
		
		<div class="payment-method">
			<label>Payment method</label>
			<select name="paymentMethod">
				<option value="1">Credit card</option>
				<option value="2">Paypal</option>
			</select>
		</div>
		
		<div class="subscription-form-submit">
			<button class="btn btn-success" type="submit">Continue</button>
		</div>
	</form>
	
	<form id="subscription-credit-card-form" action="" method="POST">
	    <div class="create-form-body">
	
	        <div class="row create-form-input-row">
	            <div class="col-md-4 create-form-label">Name<span class="required">*</span></div>
	            <div class="col-md-7 create-form-input">
	                <div class="input-icon">
	                    <i class="fa fa-warning"></i>
	                    <input type="text" class="form-control" id="name" name="name" placeholder="Name" />
	                </div>
	                <span class="input-message">Activity name is required.</span>
	            </div>
	            <div class="col-md-1"></div>
	        </div>
	
	        <div class="row create-form-input-row">
	            <div class="col-md-4 create-form-label">Default rate<span class="required">*</span></div>
	            <div class="col-md-7 create-form-input">
	                <div class="input-icon">
	                    <i class="fa fa-warning"></i>
	                    <input type="text" class="form-control" id="defaultRate" name="defaultRate" placeholder="Default rate" />
	                </div>
	                <span class="input-message">Default rate is required.</span>
	                <span class="input-message">Must be numeric.</span>
	            </div>
	            <div class="col-md-1"></div>
	        </div>
	
	        <div class="row create-form-input-row">
	            <div class="col-md-4 create-form-label">Per<span class="required">*</span></div>
	            <div class="col-md-7 create-form-input">
	                <select class="form-control" id="period" name="period">
	                    <option value="999">Lesson</option>
	                    <option value="15">15 mins</option>
	                    <option value="30">30 mins</option>
	                    <option value="45">45 mins</option>
	                    <option value="100">1 hour</option>
	                    <option value="115">1 hour 15 mins</option>
	                    <option value="130">1 hour 30 mins</option>
	                    <option value="200">2 hours</option>
	                    <option value="1">month</option>
	                    <option value="2">2 months</option>
	                    <option value="3">3 months</option>
	                    <option value="4">4 months</option>
	                    <option value="5">5 months</option>
	                    <option value="6">6 months</option>
	                    <option value="7">7 months</option>
	                    <option value="8">8 months</option>
	                    <option value="9">9 months</option>
	                    <option value="10">10 months</option>
	                    <option value="11">11 months</option>
	                    <option value="12">12 months</option>
	                </select>
	            </div>
	            <div class="col-md-1"></div>
	        </div>
	
	        <div class="row create-form-input-row">
	            <div class="col-md-4 create-form-label">Location</div>
	            <div class="col-md-7 create-form-input">
	                <input type="text" class="form-control" id="location" name="location" placeholder="Ex: studio B" />
	            </div>
	            <div class="col-md-1"></div>
	        </div>
	
	    </div>
	    <div class="create-form-footer">
	        <div class="col-md-7">
	            <div class="checkbox create-another">
	                <label for="createAnother">
	                    <input type="checkbox" id="createAnother" name="createAnother" value="1" />Create another
	                </label>
	            </div>
	        </div>
	        <div class="col-md-5">
	            <a href="@path('School#Teacher/Activity#index')"><button class="btn btn-default" type="button">Cancel</button></a>
	            <button id="create-activity-submit-button" class="btn btn-success" type="submit">Create</button>
	        </div>
	    </div>
	</form>
	
	<form id="subscription-paypal-form">
		paypal
	</form>
</div>

<script type="text/javascript">
var subscriptionCount = parseInt('{{ Subscription::SUBSCRIPTION_COUNT }}');
if (!$.isNumeric(subscriptionCount)) {
	subscriptionCount = 4;
}
</script>
<script src="/School/Applications/School/Modules/Teacher/Account/Views/js/handleSubscription.js"></script>

<script type="text/javascript">
$(function() {
	$('#subscription-form :input[name="subscriptionType"]:checked')
		.parent().parent().parent().addClass('active');
})
	
$('.subscription-option-1').on('click', function(e) {
	removeActiveClasses();
	$('.subscription-option-1').addClass('active');
});

$('.subscription-option-2').on('click', function(e) {
	removeActiveClasses();
	$('.subscription-option-2').addClass('active');
});

$('.subscription-option-3').on('click', function(e) {
	removeActiveClasses();
	$('.subscription-option-3').addClass('active');
});

$('.subscription-option-4').on('click', function(e) {
	removeActiveClasses();
	$('.subscription-option-4').addClass('active');
});

function removeActiveClasses()
{
	for (var i = 1; i <= 4; i++)
	{
		$('.subscription-option-' + i).removeClass('active');
	}
}
</script>